<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .icon-preview {
            display: inline-block;
            margin: 10px;
            text-align: center;
        }
        canvas {
            border: 1px solid #ddd;
            background: white;
        }
        button {
            background: #4facfe;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #00f2fe;
        }
    </style>
</head>
<body>
    <h1>Bookmark Converter Pro - Icon Generator</h1>
    <p>This page generates PNG icons from the SVG for the browser extension.</p>
    
    <div id="iconPreviews"></div>
    
    <button onclick="generateAllIcons()">Generate All Icons</button>
    <button onclick="downloadAllIcons()">Download All Icons</button>
    
    <script>
        const svgContent = `<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                </linearGradient>
            </defs>
            
            <circle cx="64" cy="64" r="60" fill="url(#grad1)" stroke="white" stroke-width="4"/>
            <path d="M40 30 L88 30 L88 90 L64 70 L40 90 Z" fill="white" stroke="none"/>
            <circle cx="90" cy="38" r="12" fill="url(#grad2)" stroke="white" stroke-width="2"/>
            <path d="M85 38 L95 38 M90 33 L90 43" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <circle cx="50" cy="50" r="3" fill="white" opacity="0.8"/>
            <circle cx="60" cy="50" r="3" fill="white" opacity="0.8"/>
            <circle cx="70" cy="50" r="3" fill="white" opacity="0.8"/>
        </svg>`;
        
        const sizes = [16, 32, 48, 128];
        const icons = {};
        
        function generateIcon(size) {
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            const img = new Image();
            const svgBlob = new Blob([svgContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                ctx.drawImage(img, 0, 0, size, size);
                icons[size] = canvas.toDataURL('image/png');
                
                // Create preview
                const preview = document.createElement('div');
                preview.className = 'icon-preview';
                preview.innerHTML = `
                    <div>${size}x${size}</div>
                    <canvas width="${size}" height="${size}" style="width: ${size}px; height: ${size}px;"></canvas>
                    <br>
                    <button onclick="downloadIcon(${size})">Download</button>
                `;
                
                const previewCanvas = preview.querySelector('canvas');
                const previewCtx = previewCanvas.getContext('2d');
                previewCtx.drawImage(img, 0, 0, size, size);
                
                document.getElementById('iconPreviews').appendChild(preview);
                
                URL.revokeObjectURL(url);
            };
            
            img.src = url;
        }
        
        function generateAllIcons() {
            document.getElementById('iconPreviews').innerHTML = '';
            sizes.forEach(size => generateIcon(size));
        }
        
        function downloadIcon(size) {
            if (icons[size]) {
                const link = document.createElement('a');
                link.download = `icon${size}.png`;
                link.href = icons[size];
                link.click();
            }
        }
        
        function downloadAllIcons() {
            sizes.forEach(size => {
                if (icons[size]) {
                    setTimeout(() => downloadIcon(size), size * 10);
                }
            });
        }
        
        // Generate icons on page load
        window.onload = generateAllIcons;
    </script>
</body>
</html>
